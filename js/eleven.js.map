{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/ajax.js",
    "src/commandParser.js",
    "src/commands.js",
    "src/core.js",
    "src/document.js",
    "src/eleven.js",
    "src/index.js",
    "src/regexp.js",
    "src/speech.js",
    "src/speechRecognition.js",
    "src/speechSynthesis.js",
    "src/speechSynthesisOverrides.js",
    "src/utils.js",
    "src/visualizer.js",
    "src/window.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import $ from './core';\n\nvar activeXHR = 0,\n    jsonPUID = 0,\n    emptyFn = function(){};\n\n$.extend({\n  /**\n   * Default XHR configuration\n   * @type {Object}\n   */\n  ajaxSettings: {\n    accepts: {\n      html   : 'text/html',\n      json   : 'application/json',\n      script : 'text/javascript, application/javascript',\n      text   : 'text/plain',\n      xml    : 'application/xml, text/xml'\n    },\n    async       : true,\n    beforeSend  : emptyFn,\n    complete    : emptyFn,\n    context     : document,\n    crossDomain : false,\n    error       : emptyFn,\n    global      : true,\n    headers     : {},\n    callback    : {\n      fn        : 'jsonCallback',\n      param     : 'callback'\n    },\n    success     : emptyFn,\n    timeout     : 0,\n    type        : 'GET'\n  },\n  /**\n   * Creates an asynchronous XHR request\n   * @param  {Object} config  Object containing the request configuration\n   * @return {Object}         XHR request object\n   */\n  ajax(config){\n    var callback = $.regexp.callback.test(config.url),\n        config = $.extend(true, {}, $.ajaxSettings, config || {}),\n        data = config.data && $.isObject(config.data) && (config.data = $.params(config.data)) || null,\n        context = config.context,\n        contentType = config.contentType || 'application/x-www-form-urlencoded',\n        headers = config.headers,\n        method = config.type.toUpperCase(),\n        mimeType = config.accepts[config.dataType],\n        protocol = (/^((http|ftp|file)(s?)\\:)?/).test(config.url) ? RegExp.$1 : window.location.protocol,\n        type = config.dataType,\n        url = config.url || !config.url && (config.url = window.location.toString()),\n        xhr = config.xhr = new window.XMLHttpRequest();\n\n    if(method === 'GET' && data){\n      config.url += (config.url.indexOf('?') < 0 ? '?' : '&') + data;\n    }\n\n    if(config.dataType === 'jsonp'){\n      return $.jsonP(config);\n    }\n\n    xhr.onreadystatechange = function readyStateChange(){\n      var error = false,\n          requestTimeout,\n          result = '';\n\n      activeXHR++;\n\n      if(xhr.readyState === 4){\n        clearTimeout(requestTimeout);\n\n        if((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol === 'file:')){\n          result = xhr.responseText;\n\n          try {\n            if(type === 'json' && !(/^\\s*$/g).test(result)){\n              result = $.parseJSON(result);\n            }\n            else if(type === 'xml'){\n              result = $.parseXML(xhr.responseXML);\n            }\n            else if(type === 'script'){\n              (1, eval)(result);\n            }\n          }catch(e){\n            error = e;\n          }\n\n          if(error){\n            config.error.call(context, xhr, 'parsererror', error);\n          }else{\n            config.success.call(context, result, 'success', xhr);\n          }\n        }else{\n          config.error.call(context, xhr, 'error', error);\n        }\n\n        config.complete.call(context, xhr, error ? 'error' : 'success');\n\n        activeXHR--;\n      }\n    }\n\n    if(config.beforeSend.call(context, xhr, config) === false){\n      xhr.abort();\n      activeXHR--;\n      return false;\n    }\n\n    if(mimeType){\n      headers['Accept'] = mimeType;\n      xhr.overrideMimeType && xhr.overrideMimeType(mimeType.split(',')[1] || mimeType.split(',')[0]);\n    }\n\n    if(contentType || (data && method !== 'GET')){\n      headers['Content-Type'] = contentType;\n    }\n\n    xhr.open(method, config.url, config.async);\n\n    for(var header in headers){\n      xhr.setRequestHeader(header, config.headers[header]);\n    }\n\n    if(config.timeout > 0){\n      requestTimeout = setTimeout(function(){\n        xhr.onreadystatechange = emptyFn;\n        config.error.call(context, xhr, 'timeout');\n        xhr.abort();\n        activeXHR--;\n      }, config.timeout);\n    }\n\n    xhr.send(data);\n\n    return xhr;\n  },\n  /**\n   * Shortcut JSONP method\n   * @param  {Object}   config  The JSONP config, including data (e.g. url: '...', data: { param: 'value' } )\n   * @param  {Function} success The callback function to execute upon success\n   * @param  {Function} error   The callback function to execute upon failure\n   */\n  jsonp(config, success = emptyFn, error = emptyFn){\n    if(typeof(config) !== 'object' || config && !config.url){\n      return undefined;\n    }\n\n    return $.ajax(\n      $.extend(true, { dataType: 'jsonp', success, error }, config)\n    );\n  },\n  /**\n   * Fetch JSON data cross-domain with JSONP\n   * @param  {Object} config The request configuration\n   * @return {Object}\n   */\n  jsonP({ context, jsonp, url, xhr, error, success, timeout }){\n    const script = document.createElement('script');\n    const fn = jsonp || 'jsonpCallback' + (jsonPUID++);\n\n    var data, timeout;\n\n    script.src = url.replace($.regexp.callback, '?$1=' + fn);\n\n    script.onerror = function(){\n      xhr.abort();\n      error.call(context, null, 'error');\n    };\n\n    script.onload = function(){\n      if($.isFunction(success)){\n        success.call(context, data[0]);\n      }\n\n      script.parentNode.removeChild(script);\n\n      timeout && clearTimeout(timeout) && (timeout = null);\n\n      try {\n        delete window[fn];\n      }catch(e){\n        window[fn] = null;\n      }\n\n      data = null;\n    }\n\n    document.head.appendChild(script);\n\n    window[fn] = function(){\n      data = arguments;\n    }\n\n    if(timeout > 0){\n      timeout = setTimeout(function(){\n        script.parentNode.removeChild(script);\n\n        if(fn in window){\n          window[fn] = emptyFn;\n        }\n\n        error.call(context, null, 'timeout');\n        xhr.abort();\n      }, timeout);\n    }\n\n    return {};\n  },\n  /**\n   * Append additonal params to a URL query string\n   * @param  {String} url     The URL to append the new items to\n   * @param  {String} query   The additional query params\n   * @return {String}         The new query string\n   */\n  appendQuery(url, query) {\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n  },\n  /**\n   * Convert query string to key/value pairing\n   * @param  {String} query The URL containing the params\n   * @return {Object}       The new object containing the key value pairs from the query string\n   */\n  deparam(query){\n    const result = {};\n\n    if(!query){\n      return result;\n    }\n\n    $.each(('' + query.split('&')), function(index, value){\n      if(value){\n        var param = value.split('=');\n        result[param[0]] = param[1];\n      }\n    });\n\n    return result;\n  },\n  /**\n   * Helper function to convert our data object to a valid URL query string\n   * @param  {Object} data    The object containing all our query data\n   * @return {String}         The query string\n   */\n  params(data){\n    return $.serialize([], data).join('&');//.replace('%20', '+');\n  },\n  /**\n   * Build query string from passed data arguments\n   * @param  {Array}  params  The array to store our key = value pairs in\n   * @param  {Object} data    The object containing the query data\n   * @param  {String} scope   The scope of the params\n   * @return {Array}          The updated params array\n   */\n  serialize(params, data, scope){\n    const array = $.isArray(data);\n    const escape = encodeURIComponent;\n\n    $.each(data, function(key, value){\n      if(scope){\n        key = scope + '[' + (array ? '' : key) + ']';\n      }\n\n      if($.isPlainObject(value)){\n        $.serialize(params, value, key)\n      }else{\n        params.push(escape(key) + '=' + escape(value));\n      }\n    });\n\n    return params;\n  }\n});\n\n/**\n * Shortcut GET request methods\n * @param  {String}   url     The request URL\n * @param  {Object}   data    The hash map of key/value pairs that will be sent with the request (optional)\n * @param  {Function} success The success callback function\n * @param  {Function} error   The failure callback function\n */\n['get', 'getJSON'].forEach((method, index) => {\n  $[method] = (url, data, success = emptyFn, error = emptyFn) => {\n    if($.isFunction(data)){\n      error = success;\n      success = data;\n      data = {};\n    }\n\n    return $.ajax({ url, data, success, error, dataType: (index === 0 ? 'html' : 'json') });\n  }\n});\n\nexport default $;\n",
    "import $ from './core';\n\nconst parser = (command) => {\n  command = command\n  .replace($.regexp.escapeRegExp, '\\\\$&')\n  .replace($.regexp.optionalParam, '(?:$1)?')\n  .replace($.regexp.namedParam, function(match, optional){\n    return optional ? match : '([^\\\\s]+)';\n  })\n  .replace($.regexp.splatParam, '(.*?)')\n  .replace($.regexp.optionalRegex, '\\\\s*$1?\\\\s*');\n\n  return new RegExp('^' + command + '$', 'i');\n};\n\nexport default parser;\n",
    "import $ from './core';\nimport parser from './commandParser';\n\n$.fn.extend({\n  /**\n   * Add one or more commands to Eleven's registry\n   *\n   * Example:\n   *\n   * var agent = Eleven();\n   *\n   * // add multiple commands\n   * agent.addCommands({\n   *   'hello :name': fn,\n   *   'hey (there)': fn,\n   *   'hi': fn\n   * });\n   *\n   * // or you can add a single command\n   * agent.addCommands('hi', fn);\n   *\n   * @param  {Object} commands Object containing commands and their callbacks\n   * @return {Object}          Eleven instance\n   */\n  addCommands(commands){\n    var command = {};\n\n    if(typeof(commands) === 'string' && arguments[1]){\n      command[commands] = arguments[1];\n      commands = command;\n    }\n\n    for(var phrase in commands){\n      command = commands[phrase];\n\n      if(command){\n        if($.isFunction(command)){\n          this.registerCommands(phrase, parser(phrase), command);\n        }\n        else if($.isObject(command) && $.isRegExp(command.regexp)){\n          this.registerCommands(phrase, new RegExp(command.regexp.source, 'i'), command.callback);\n        }\n        else{\n          if(this.options.debug){\n            console.debug(`[Eleven] Command registration failed: ${phrase}`);\n          }\n        }\n      }\n    }\n\n    return this;\n  },\n  /**\n   * Adds the passed command to the command list\n   * @param {String}   phrase   String continaing the command to listen for\n   * @param {String}   command  String representing the RegExp for the command\n   * @param {Function} callback Function to execute when command has been invoked\n   */\n  registerCommands(phrase, command, callback){\n    this.commands[phrase] = {\n      callback: callback,\n      phrase: phrase,\n      regexp: command\n    };\n\n    if(this.options.debug){\n      console.debug(`[Eleven] Command registered: ${phrase}`);\n    }\n  },\n  /**\n   * Remove one or more commands from Eleven's registry\n   *\n   * Example:\n   *\n   * var agent = Eleven();\n   *\n   * agent.addCommands({\n   *   'hello :name': fn,\n   *   'hey (there)': fn,\n   *   'hi': fn\n   * });\n   *\n   * // remove a single command\n   * agent.removeCommands('hi');\n   *\n   * // remove multiple commands\n   * agent.removeCommands(['hello :name', 'hi']);\n   *\n   * //remove all commands\n   * agent.removeCommands();\n   *\n   * @param  {Mixed} commands String or Array containing commands to remove from the command list\n   * @return {Object}         Eleven instance\n   */\n  removeCommands(commands){\n    var currentCommmands = this.commands;\n\n    if(commands === undefined){\n      return (this.commands = []) && this;\n    }\n\n    if(typeof(command) === 'string'){\n      commands = [commands];\n    }\n\n    $.each(commands, (command) => {\n      if(currentCommmands[command]){\n        delete currentCommmands[command];\n      }\n    });\n\n    return this;\n  }\n});\n\nexport default $;\n",
    "import document from './document';\nimport window from './window';\nimport SpeechRecognition from './speechRecognition';\nimport SpeechSynthesis from './speechSynthesis';\nimport SpeechSynthesisOverrides from './speechSynthesisOverrides';\nimport { each, indexOf } from './utils';\n\nconst { slice } = [];\nconst { toString } = {};\nconst { trim } = String.prototype;\nconst class2type = {};\n\nvar initialized = null;\n\n/**\n * Eleven\n * @constructor\n * @param  {Object} options Object containing Eleven's configuration\n * @return {Object}         Eleven instance\n */\nconst $ = (selector, options) => initialized || new $.fn.init(selector, options);\n\n$.fn = $.prototype = {\n  constructor: $,\n  version: '1.0.0',\n  init(selector, options){\n    const defaultConfig = {\n      debug: false,\n      language: 'en-US',\n      commands: [],\n      autoRestart: true,\n      continuous: true,\n      interimResults: true,\n      maxAlternatives: 5,\n      requiresWakeWord: true,\n      synthesisAgent: 'Google UK English Female',\n      wakeCommands: ['eleven', '11'],\n      wakeSound: 'https://s3-us-west-1.amazonaws.com/voicelabs/static/chime.mp3',\n      wakeCommandWait: 10000,\n      template: `\n         <div class=\"eleven-container\">\n          <div class=\"eleven-container-inner\">\n            <div class=\"eleven-off\">\n              <span>ELEVEN</span>\n            </div>\n            <div class=\"eleven-on\">\n              <div class=\"bg\"></div>\n              <div class=\"waves\"></div>\n            </div>\n          </div>\n        </div>\n      `\n    };\n    // create a ref to the container element\n    this.container = document.querySelector(selector);\n    // store options\n    this.options = $.extend({}, defaultConfig, options || {});\n    // create markup\n    this.container.innerHTML = this.options.template;\n    // reference to all of our commands\n    this.commands = [];\n    // reference hash for installed plugins\n    this.plugins = {};\n    // create audio sound\n    this.wakeSound = new Audio(this.options.wakeSound);\n    // buffer restarts and prevent insanity\n    this.lastStartTime = this.restartCount = 0;\n    // used to manage eventing\n    this.listening = false;\n    // create interactive audio wave orb (aka Eleven)\n    this.visualize();\n    // prevent initialize until called\n    if(!this.options.delayStart){\n      // enable all the things!\n      this.enable();\n    }\n    // print the instance config\n    if(this.options.debug){\n      $.debug = true;\n      console.debug(this);\n    }\n    // allow single instance (Speech API does not support multiple instances yet)\n    initialized = this;\n    // always return this for chaining\n    return this;\n  }\n};\n\n/**\n * Shallow copies all properties from the config object to the target object\n * @param  {Object} target   The receiving object you want to apply the config properties to\n * @param  {Object} config   The source object containing the new or updated default properties\n * @param  {Object} defaults The default values object (optional)\n * @return {Object}          The target object\n */\n$.apply = function(target, config, defaults){\n  defaults && $.apply(target, defaults);\n\n  if(target && config && typeof(config) === 'object'){\n    for(var i in config){\n      target[i] = config[i];\n    }\n  }\n\n  return target;\n};\n\n$.apply($, {\n  indexOf: indexOf,\n  plugins: {},\n  each(collection, fn){\n    if(typeof(collection) === 'function'){\n      fn = collection;\n      collection = this;\n    }\n\n    if(typeof(collection.length) === 'number'){\n      each(collection, (item, index) => fn.call(item, item, index));\n    }else if(typeof(collection) === 'object'){\n      for(const key in collection){\n        const result = fn.call(collection[key], key, collection[key]);\n\n        if(result === false){\n          break;\n        }\n      }\n    }\n\n    return this;\n  },\n  /**\n   * Merge the contents of two or more objects into the target object\n   * @param  {Boolean} deep      If true, the merge becomes recursive (optional)\n   * @param  {Object}  target    Object receiving the new properties\n   * @param  {Object}  arguments One or more additional objects to merge with the first\n   * @return {Object}            The target object with the new contents\n   */\n  extend(){\n    var i = 1,\n        deep = false,\n        target = arguments[0] || {},\n        length = arguments.length;\n\n    if($.isBoolean(target)){\n      deep = target;\n      target = arguments[1] || {};\n      i++;\n    }\n\n    if(i === length){\n      target = this;\n      i--;\n    }\n\n    $.each(slice.call(arguments, i), (obj) => {\n      var src, copy, isArray, clone;\n\n      if(obj === target){\n        return;\n      }\n\n      if(deep && $.isArray(obj)){\n        target = target.concat(obj);\n      }else{\n        for(var key in obj){\n          src = target[key];\n          copy = obj[key];\n\n          if(target === copy || src === copy){\n            continue;\n          }\n\n          if(deep && copy && ($.isPlainObject(copy) || (isArray = $.isArray(copy)))){\n            if(isArray){\n              isArray = false;\n              clone = src && $.isArray( src ) ? src : [];\n            }else{\n              clone = src && $.isPlainObject( src ) ? src : {};\n            }\n\n            target[key] = $.extend(deep, clone, copy);\n          }\n          else if(copy !== undefined){\n            target[key] = copy;\n          }\n        }\n      }\n    });\n\n    return target;\n  },\n  /**\n   * Determines whether the array contains a specific value\n   * @param  {Mixed}   item     The item to look for in the array\n   * @param  {String}  array    The array of items\n   * @param  {Boolean} position Set true to return the index of the matched item or -1\n   * @return {Mixed}            The value of true or false, or the index at which the value can be found\n   */\n  inArray(item, array, position){\n    var result;\n    return $.isArray(array) ? (result = indexOf(array, item)) && (position ? result : result !== -1) : -1;\n  },\n  /**\n   * Determines whether the passed object is a number\n   * @param  {Object}  obj Object to type check\n   * @return {Boolean}     The true/false result\n   */\n  isNumber(obj){\n    return !isNaN(parseFloat(obj)) && isFinite(obj);\n  },\n  /**\n   * Determines whether the passed object is numeric\n   * @param  {Object}  obj Object to type check\n   * @return {Boolean}     The true/false result\n   */\n  isNumeric(obj){\n    return !$.isArray(obj) && obj - parseFloat(obj) >= 0;\n  },\n  /**\n   * Determine whether an Object is a plain object or not (created using \"{}\" or \"new Object\")\n   * @param  {Object}  obj Object to type check\n   * @return {Boolean}     The true/false result\n   */\n  isPlainObject(obj){\n    return $.isObject(obj) && !$.isWindow(obj) && !obj.nodeType && Object.getPrototypeOf(obj) === Object.prototype;\n  },\n  /**\n   * Determines whether the passed object is the Window object\n   * @param  {Object}  obj Object to type check\n   * @return {Boolean}     The true/false result\n   */\n  isWindow(obj){\n    return obj !== null && obj === global;\n  },\n  /**\n   * Parses a string as JSON, optionally transforming the value produced by parsing\n   * @param  {String}   text    The string to parse as JSON\n   * @param  {Function} reviver The transform function to execute on each key-value pair of the parsed object (optional)\n   * @return {Object}           The parsed JSON string\n   */\n  parseJSON(text, reviver){\n    try {\n      return JSON.parse(`${text}`, reviver);\n    }catch(error){\n      throw `Error occurred while trying to parse JSON string: ${error}`;\n    }\n  },\n  /**\n   * Parse a string as XML\n   * @param  {String} xml The XML string to parse\n   * @return {Object}     The DOM XML Object\n   */\n  parseXML(xml){\n    var parsed;\n\n    if(!xml || typeof(xml) !== 'string'){\n      return null;\n    }\n\n    try {\n      parsed = (new DOMParser).parseFromString(xml, 'text/xml');\n    }catch(error){\n      parsed = null;\n    }\n\n    if(!parsed || parsed.getElementsByTagName('parsererror').length){\n      throw Error(`Invalid XML: ${xml}`);\n    }\n\n    return parsed;\n  },\n  /**\n   * Adds plugin to the plugin registry for any Eleven instance to bind to\n   * @param {String}  name String containing the plugins unique name\n   * @param {Functio} fn   Constructor function of plugin\n   */\n  plugin(name, fn){\n    if(!this.plugins[name]){\n      if(!$.isFunction(fn)){\n        throw `\"${name}\" does not have a constructor.`;\n      }else{\n        this.plugins[name] = fn;\n      }\n    }\n\n    return this;\n  },\n  /**\n   * Executes a function within a specific scope\n   * @param  {Function} fn    The function whose scope will change\n   * @param  {Object}   scope The scope in which the function should be called\n   * @return {Function}       The function with the modified scope\n   */\n  proxy(fn, scope){\n    const args = slice.call(arguments, 2);\n\n    return $.isFunction(fn) ? function proxy(){\n      return fn.apply(scope || this, [...args, ...arguments])\n    } : undefined;\n  },\n  /**\n   * Executes the passed function when the DOM is \"ready\"\n   * @param {Function} fn The function to execute\n   */\n  ready(fn){\n    if(($.regexp.readyState).test(document.readyState)){\n      fn.call();\n    }else{\n      document.addEventListener('DOMContentLoaded', fn, false);\n    }\n\n    return this;\n  },\n  /**\n   * Removes all rendered elements from the viewport and executes a callback\n   * @param  {Function} fn Function to execute once the view has been cleared\n   */\n  resetView(selector = '.results', fn){\n    if($.isFunction(selector)){\n      fn = selector;\n      selector = '.results';\n    }\n\n    const results = document.querySelectorAll(selector);\n\n    if(results && results.length){\n      results.forEach((element) => element.parentNode && element.parentNode.removeChild(element));\n    }\n\n    if($.isFunction(fn)){\n      fn();\n    }\n\n    return this;\n  },\n  /**\n   * Converts a value to JSON, optionally replacing values if a replacer function is specified\n   * @param  {Mixed}  value    Value to convert to a JSON string\n   * @param  {Mixed}  replacer Transforms values and properties encountered while stringifying (optional)\n   * @param  {Mixed}  spaces   Causes the resulting string to be pretty-printed\n   * @return {String}          The JSON string\n   */\n  stringify(value, replacer, spaces){\n    return JSON.stringify(value, replacer, spaces);\n  },\n  /**\n   * Removes newlines, spaces (including non-breaking), and tabs from a text string\n   * @param  {String} text The text string to trim\n   * @return {String}      The modified string\n   */\n  trim(text){\n    return text === null ? '' : trim && trim.call(text) || (`${text}`).replace($.regexp.trim, '');\n  },\n  /**\n   * Returns the internal JavaScript [Class]] of an Object\n   * @param  {Object} obj Object to check the class property of\n   * @return {String}     Only the class property of the Object\n   */\n  type(obj){\n    return obj === null ? String(obj) : class2type[toString.call(obj)] || 'object';\n  },\n  /**\n   * Generates a random RFC4122 UUID\n   * @return {String} String containing the unique hash\n   */\n  uuid(){\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n      const r = Math.random() * 16 | 0;\n      const v = c == 'x' ? r : (r&0x3|0x8);\n      return v.toString(16);\n    });\n  }\n});\n\n/**\n * Creates type class check methods $.isArray(), $.isBoolean(), ...\n * @param  {Object}  obj The Object to type check\n * @return {Boolean}     The value of true or false\n */\n$.each(['Array', 'Boolean', 'Date', 'Error', 'Function', 'Object', 'RegExp', 'String'], function(name){\n  class2type[`[object ${name}]`] = name.toLowerCase();\n\n  $[`is${name}`] = (obj) => $.type(obj) === name.toLowerCase();\n});\n\n$.fn.init.prototype = $.fn;\n\n$.apply($.fn, {\n  each: $.each,\n  extend: $.extend,\n  /**\n   * Plugin cache\n   * @type {Object}\n   */\n  plugins: {},\n  /**\n   * Returns the specified plugin\n   * @param  {String} name String containing the plugins unique name\n   * @return {Object}      The plugin instance\n   */\n  getPlugin(name){\n    if(!this.plugins[name]){\n      throw `\"${name}\" plugin does not exist!`;\n    }\n\n    return this.plugins[name];\n  },\n  /**\n   * Registers a plugin with a given Eleven instance\n   * @param {String} name    String containing the plugins unique name\n   * @param {Object} options Object containing the options for that plugin\n   * @type {Object}          Eleven\n   */\n  plugin(name, options = {}){\n    if(!this.plugins[name] && $.plugins[name]){\n      if(options.commands){\n        this.addCommands(options.commands);\n      }\n\n      this.plugins[name] = new $.plugins[name](options);\n    }else{\n      throw `\"${name}\" plugin does not exist!`;\n    }\n\n    return this;\n  },\n  /**\n   * Iterates over a collection of objects\n   * @param {Mixed}    collection Collection to iterate over\n   * @param {Function} fn         Callback function\n   */\n  error(event){\n    const { error } = event;\n\n    if(error === 'not-allowed' || error === 'network'){\n      this.options.autoRestart = false;\n    }\n\n    if(this.options.debug){\n      console.warn(`[Eleven] SpeechRecognition event error: ${error}`);\n    }\n  },\n  /**\n   * Initializes the SpeechRecognition API, adds commands and binds event\n   * listeners. To avoid overlap with other tabs listening we used the\n   * `pagevisibility` API to abort the inactive tab instance.\n   * @return {Object} Eleven instance\n   */\n  enable(){\n    const options = this.options;\n    // reference to SpeechRecognition instance\n    this.recognition = new SpeechRecognition();\n    // set language\n    if(options.lang){\n      this.recognition.lang = options.lang;\n    }\n    // set max alternative results\n    this.recognition.maxAlternatives = options.maxAlternatives;\n    // set continuous listening\n    this.recognition.continuous = options.continuous;\n    // return results immediately so we can emulate audio waves\n    this.recognition.interimResults = options.interimResults;\n    // add commands\n    this.addCommands({\n      '*msg': options.onCommand,\n      'stop': () => {\n        if(this.listening){\n\n          $.resetView(() => {\n            document.body.classList.remove('interactive');\n          });\n\n          this.stop();\n        }\n      }\n    });\n\n    // load user defined commands\n    if(options.commands){\n      this.addCommands(options.commands);\n    }\n    // setup all SpeechRecognition event listeners\n    this.listen();\n    // fire activation event\n    if($.isFunction(options.onActivate)){\n      options.onActivate.call(this);\n    }\n    // setup speech synthesis\n    SpeechSynthesis.onvoiceschanged = () => {\n      $.supportedVoices = SpeechSynthesis.getVoices();\n    };\n    // hack to fix issues with Chrome\n    setTimeout(() => {\n      if(!SpeechSynthesis){\n        console.warn('[Eleven] Voice synthesis is not supported.');\n      }else{\n        $.supportedVoices = SpeechSynthesis.getVoices();\n\n        if($.supportedVoices.length > 0){\n          $.mappedSupportedVoices = $.supportedVoices.slice().reduce((obj, item) => {\n            const overrides = SpeechSynthesisOverrides[item.name] || {};\n\n            obj[item.name] = $.extend({}, item, overrides, { suppportedVoice: item });\n\n            return obj;\n          }, {});\n\n          $.synthesisAgent = $.mappedSupportedVoices[options.synthesisAgent];\n        }\n      }\n    }, 500);\n\n    const autoRestartConfig = options.autoRestart;\n\n    document.addEventListener('visibilitychange', () => {\n      if(document.hidden){\n        if(this.recognition && this.recognition.abort && this.listening){\n          if(this.debug){\n            console.debug('[Eleven] User switched to another tab. Disabling listeners.');\n          }\n\n          this.options.autoRestart = false;\n          this.stop();\n          this.recognition.abort();\n        }\n      }else{\n        if(this.recognition && !this.listening){\n          if(this.debug){\n            console.debug('[Eleven] User switched back to this tab. Enabling listeners.');\n          }\n\n          this.options.autoRestart = autoRestartConfig;\n          this.start();\n        }\n      }\n    });\n\n    this.restart();\n\n    return this;\n  },\n  /**\n   * Binds callback functions to `onstart`, `onerror`, `onresult`,\n   * `onend` and `onaudioend` of SpeechRecognition API.\n   */\n  listen(){\n    this.recognition.onend = $.proxy(this.stop, this);\n    this.recognition.onerror = $.proxy(this.error, this);\n    this.recognition.onresult = $.proxy(this.result, this);\n    this.recognition.onstart = $.proxy(this.start, this);\n    this.recognition.onaudioend = $.proxy(this.stop, this);\n    this.recognition.onaudiostart = () => {\n      if($.isFunction(this.options.onStart)){\n        this.options.onStart.call(this);\n      }\n    };\n  },\n\n  parser(results){\n    var options = this.options;\n\n    if($.isFunction(options.onResult)){\n      options.onResult.call(this, results);\n    }\n\n    setTimeout(() => {\n      if(this.running && this.visualizer){\n        this.running = false;\n        this.visualizer.stop();\n      }\n\n      this.container.classList.remove('ready');\n      this.activated = false;\n    }, 750);\n\n    for(var i = 0, k = results.length; i < k; i++){\n      var recognizedSpeech = results[i].trim();\n\n      if(options.debug){\n        console.debug('[Eleven] Speech recognized: ', recognizedSpeech);\n      }\n\n      for(const item in this.commands){\n        const command = this.commands[item];\n        const phrase = command.phrase;\n        const result = command.regexp.exec(recognizedSpeech);\n\n        if(result){\n          var parameters = result.slice(1);\n\n          if(options.debug){\n            console.debug(`[Eleven] Command match: ${phrase}`);\n\n            if(parameters.length){\n              console.debug(`[Eleven] Command has parameters: ${JSON.stringify(parameters, null, 2)}`);\n            }\n          }\n\n          command.callback.call(this, parameters, recognizedSpeech, phrase);\n\n          if($.isFunction(options.onResultMatch)){\n            options.onResultMatch.call(this, parameters, recognizedSpeech, phrase, results);\n          }\n\n          this.container.classList.remove('ready');\n\n          this.activated = false;\n\n          return;\n        }\n      }\n    }\n\n    if($.isFunction(options.onResultNoMatch)){\n      options.onResultNoMatch.call(this, results);\n    }\n  },\n\n  result(event){\n    const result = event.results[event.resultIndex];\n    const results = [];\n\n    if(this.options.wakeCommands.indexOf(result[0].transcript.trim()) !== -1){\n      if(!this.activated){\n        this.activated = true;\n        this.container.classList.add('ready');\n        this.wakeSound.play();\n\n        this.commandTimer = setTimeout(() => {\n          this.activated = false;\n          this.container.classList.remove('ready');\n        }, this.options.wakeCommandWait);\n      }\n    }else {\n      if(this.activated){\n        if(!this.running && this.visualizer){\n          this.running = true;\n          this.visualizer.start();\n          clearTimeout(this.commandTimer);\n        }\n\n        for(var i = 0, k = result.length; i < k; i++){\n          if(result.isFinal){\n            results[i] = result[i].transcript.trim();\n          }\n        }\n\n        if(results.length){\n          this.parser(results);\n        }\n      }\n    }\n  },\n  restart(){\n    const timeSinceLastStart = new Date().getTime() - this.lastStartTime;\n\n    this.restartCount += 1;\n\n    if(this.restartCount % 10 === 0){\n      if(this.options.debug){\n        console.debug('[Eleven] Speech Recognition is repeatedly stopping and starting.');\n      }\n    }\n\n    if(timeSinceLastStart < 1000){\n      setTimeout(() => {\n        this.start();\n      }, 1000 - timeSinceLastStart);\n    }else{\n      this.start();\n    }\n  },\n\n  start(){\n    if(!this.listening){\n      this.listening = true;\n\n      this.lastStartTime = new Date().getTime();\n\n      try {\n        this.recognition.start();\n      }\n      catch(e){\n        if(this.options.debug){\n          console.warn(`[Eleven] Error trying to start SpeechRecognition: ${e.message}`);\n        }\n      }\n    }\n\n    return this;\n  },\n\n  stop(){\n    if(this.listening){\n      this.listening = false;\n\n      if(this.running && this.visualizer){\n        this.running = false;\n        this.visualizer.stop();\n      }\n\n      if($.isFunction(this.options.onEnd)){\n        this.options.onEnd.call(this);\n      }\n\n      if(this.options.autoRestart){\n        this.restart();\n      }\n    }\n\n    return this;\n  }\n});\n\nexport default $;\n",
    "import window from './window';\n\nexport default window.document;\n",
    "import $ from './core';\nimport './ajax';\nimport './commands';\nimport './regexp';\nimport './speech';\nimport './visualizer';\n\nexport default $;\n",
    "import Eleven from './eleven';\n\n((root) => (root.Eleven = Eleven))(window);\n",
    "import $ from './core';\n\n$.regexp = {\n  callback      : /\\?(.+)=\\?/,\n  escapeRegExp  : /[\\-{}\\[\\]+?.,\\\\\\^$|#]/g,\n  optionalParam : /\\s*\\((.*?)\\)\\s*/g,\n  optionalRegex : /(\\(\\?:[^)]+\\))\\?/g,\n  namedParam    : /(\\(\\?)?:\\w+/g,\n  readyState    : /^(?:complete|loaded|interactive)$/i,\n  splatParam    : /\\*\\w+/g,\n  trim          : /^\\s+|\\s+$/g,\n  whitespaces   : /^\\s*$/g\n};\n\nexport default $;\n",
    "import $ from './core';\nimport SpeechSynthesis from './speechSynthesis';\n\n$.speak = function(text, config = {}){\n  var cancelled = false;\n  // clean up text\n  text = text.replace(/[\\\"\\`]/gm, '\\'');\n  // split our phrases into 140 character chunks\n  const chunks = text.match(/.{1,140}(?:\\s+|\\w+)/g);\n  // find voice profile\n  const agent = $.synthesisAgent;\n\n  if(!SpeechSynthesis){\n    throw '[Eleven] Speech Synthesis is not supported on this device.';\n  }\n\n  if(speechSynthesis.speaking){\n    cancelled = true;\n    speechSynthesis.cancel();\n  }\n\n  chunks.forEach((text, index) => {\n    // create new utterance\n    const speechUtterance = new SpeechSynthesisUtterance();\n\n    $.extend(speechUtterance, {\n      voice: agent.suppportedVoice,\n      voiceURI: agent.voiceURI,\n      volume: agent.volume || 1,\n      rate: agent.rate || 1,\n      pitch: agent.pitch || 1,\n      text: text,\n      lang: agent.lang,\n      rvIndex: index,\n      rvTotal: chunks.length\n    });\n\n    if(index == 0){\n      speechUtterance.onstart = () => {\n        if($.isFunction(config.onStart)){\n          config.onStart();\n        }\n      };\n    }\n\n    if(index == chunks.length - 1){\n      speechUtterance.onend = () => {\n        // prevent this from being triggered when invoking speechSynthesis.cancel\n        if(cancelled === true){\n          cancelled = false;\n          return;\n        }\n\n        if($.isFunction(config.onEnd)){\n          config.onEnd();\n        }\n      };\n    }\n\n    speechUtterance.onerror = (e) => {\n      console.log(`[Eleven] Unknow Error: ${e}`);\n    };\n\n    speechSynthesis.speak(speechUtterance);\n  });\n};\n\nexport default $;\n",
    "import window from './window';\n\nexport default (\n  window.SpeechRecognition ||\n  window.webkitSpeechRecognition ||\n  window.mozSpeechRecognition ||\n  window.msSpeechRecognition ||\n  window.oSpeechRecognition\n);\n",
    "import window from './window';\n\nexport default window.speechSynthesis\n",
    "const configs = {\n  'Alex': { rate: 1 },\n  'Alice': {},\n  'Alva': {},\n  'Amelie': {},\n  'Anna': {},\n  'Carmit': {},\n  'Damayanti': {},\n  'Daniel': {},\n  'Diego': {},\n  'Ellen': {},\n  'Fiona': {},\n  'Fred': {},\n  'Ioana': {},\n  'Joana': {},\n  'Jorge': {},\n  'Juan': {},\n  'Kanya': {},\n  'Karen': {},\n  'Kyoko': {},\n  'Laura': {},\n  'Lekha': {},\n  'Luca': {},\n  'Luciana': {},\n  'Maged': {},\n  'Mariska': {},\n  'Mei-Jia': {},\n  'Melina': {},\n  'Milena': {},\n  'Moira': {},\n  'Monica': {},\n  'Nora': {},\n  'Paulina': {},\n  'Samantha': {},\n  'Sara': {},\n  'Satu': {},\n  'Sin-ji': {},\n  'Tessa': {},\n  'Thomas': {},\n  'Ting-Ting': {},\n  'Veena': {},\n  'Victoria': {},\n  'Xander': {},\n  'Yelda': {},\n  'Yuna': {},\n  'Yuri': {},\n  'Zosia': {},\n  'Zuzana': {},\n  'Google Deutsch': {},\n  'Google US English': {},\n  'Google UK English Female': {},\n  'Google UK English Male': {},\n  'Google espaol': {},\n  'Google espaol de Estados Unidos': {},\n  'Google franais': {},\n  'Google ': {},\n  'Google Bahasa Indonesia': {},\n  'Google italiano': {},\n  'Google ': {},\n  'Google ': {},\n  'Google Nederlands': {},\n  'Google polski': {},\n  'Google portugus do Brasil': {},\n  'Google ': {},\n  'Google': {},\n  'Google': {},\n  'Google ': {}\n};\n\nexport default configs;\n",
    "const indexOf = (collection, item) => {\n  const k = collection.length;\n  var i = 0;\n\n  for(; i < k; i++){\n    if(collection[i] === item){\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nconst each = (collection, fn) => {\n  const k = collection.length;\n  var i = 0;\n\n  for(; i < k; i++){\n    const result = fn.call(collection[i], collection[i], i);\n\n    if(result === false){\n      break;\n    }\n  }\n};\n\nconst noop = () => {};\n\nexport { indexOf, each, noop }\n",
    "import $ from './core';\n\n$.fn.extend({\n  visualize(){\n    this.visualizer = new Visualizer(this);\n  },\n  /**\n   * Returns the visualizer DOM Element and the instance\n   * @param  {String} String containing either 'DOM' or 'instance'\n   * @return {Array}  containing the container DOM element and instance\n   */\n  getVisualizer(property){\n    if(this.visualizer[property]){\n      return this.visualizer[property]\n    }\n\n    return this.visualizer;\n  }\n});\n\n/*------------------------------------\n * Visualization\n ------------------------------------*/\n\nfunction Curve(opt){\n  opt = opt || {};\n  this.controller = opt.controller;\n  this.color = opt.color;\n  this.tick = 0;\n  this.respawn();\n}\n\n$.apply(Curve.prototype, {\n  respawn(){\n    this.amplitude = .3 + Math.random() * .7;\n    this.seed = Math.random();\n    this.openClass = 2 + (Math.random()*3)|0;\n  },\n\n  equation(i){\n    var p = this.tick,\n        y = -1 * Math.abs(Math.sin(p)) * this.controller.amplitude * this.amplitude * this.controller.MAX * Math.pow(1 / (1 + Math.pow(this.openClass * i, 2)), 2);\n\n    if(Math.abs(y) < 0.001){\n      this.respawn();\n    }\n\n    return y;\n  },\n\n  paint(m){\n    const context = this.controller.context;\n    const width = this.controller.width;\n    const xBase = width / 2 + (-width / 4 + this.seed * (width / 2) );\n    const yBase = this.controller.height / 2;\n    var x, y, xInitial, i = -3;\n\n    this.tick += this.controller.speed * (1 - .5 * Math.sin(this.seed * Math.PI));\n\n    context.beginPath();\n\n    while(i <= 3){\n      x = xBase + i * width / 4;\n      y = yBase + (m * this.equation(i));\n      xInitial = xInitial || x;\n\n      context.lineTo(x, y);\n\n      i += .01;\n    }\n\n    const h = Math.abs(this.equation(0));\n    const gradient = context.createRadialGradient(xBase, yBase, h * 1.15, xBase, yBase, h * .3);\n    const color = this.color.join(',');\n\n    gradient.addColorStop(0, `rgba(${color}, .4)`);\n    gradient.addColorStop(1, `rgba(${color}, .2)`);\n    // set gradient\n    context.fillStyle = gradient;\n    // add glow\n    context.shadowColor = `rgba(${color}, .8)`;\n    context.shadowBlur = 50;\n\n    context.lineTo(xInitial, yBase);\n    context.closePath();\n    context.fill();\n  },\n\n  draw(){\n    this.paint(-1);\n    this.paint(1);\n  }\n});\n\nfunction Visualizer(config){\n  const options = {\n    height: 140,\n    ratio: 2,\n    wavesContainer: '.waves',\n    width: 280\n  };\n\n  this.container = config.container;\n  this.curves = [];\n  this.tick = 0;\n  this.run = false;\n  this.cover = options.cover || true;\n  this.ratio = options.ratio || window.devicePixelRatio || 1.2;\n  this.width = this.ratio * (options.width || 320);\n  this.height = this.ratio * (options.height || 100);\n  this.MAX = this.height / 2;\n  this.speed = .08;\n  this.amplitude = .7;\n\n  this.speedInterpolationSpeed = 0.005;\n  this.amplitudeInterpolationSpeed = 0.05;\n\n  this.interpolation = {\n    speed: this.speed,\n    amplitude: this.amplitude\n  };\n\n  this.canvas = document.createElement('canvas');\n  this.canvas.width = this.width;\n  this.canvas.height = this.height;\n\n  if(options.cover){\n    this.canvas.style.width = this.canvas.style.height = '100%';\n  }else{\n    this.canvas.style.width = (this.width / this.ratio) + 'px';\n    this.canvas.style.height = (this.height / this.ratio) + 'px';\n  };\n\n  this.wavesContainer = this.container.querySelector(options.wavesContainer);\n\n  this.wavesContainer.appendChild(this.canvas);\n\n  this.context = this.canvas.getContext('2d');\n\n  for(var i = 0; i < this.colors.length; i++){\n    var color = this.colors[i];\n\n    for(var j = 0; j < (3 * Math.random())|0; j++){\n      this.curves.push(new Curve({\n        controller: this,\n        color: color\n      }));\n    }\n  }\n}\n\n$.apply(Visualizer.prototype, {\n  colors: [\n    [32, 133, 252],\n    [94, 252, 169],\n    [253, 71, 103]\n  ],\n\n  clear(){\n    this.context.globalCompositeOperation = 'destination-out';\n    this.context.fillRect(0, 0, this.width, this.height);\n    this.context.globalCompositeOperation = 'lighter';\n  },\n\n  interpolate(propertyStr){\n    var increment = this[ propertyStr + 'InterpolationSpeed' ];\n\n    if(Math.abs(this.interpolation[propertyStr] - this[propertyStr]) <= increment){\n      this[propertyStr] = this.interpolation[propertyStr];\n    }else{\n      if(this.interpolation[propertyStr] > this[propertyStr]){\n        this[propertyStr] += increment;\n      }else{\n        this[propertyStr] -= increment;\n      }\n    }\n  },\n\n  paint(){\n    for(var i = 0, k = this.curves.length; i < k; i++){\n      this.curves[i].draw();\n    }\n  },\n\n  startDrawCycle(){\n    if(this.run === false){\n      return;\n    }\n\n    this.clear();\n\n    this.interpolate('amplitude');\n    this.interpolate('speed');\n\n    this.paint();\n    this.phase = (this.phase + Math.PI * this.speed) % (2 * Math.PI);\n\n    if(window.requestAnimationFrame){\n      window.requestAnimationFrame(this.startDrawCycle.bind(this));\n    }else{\n      setTimeout(this.startDrawCycle.bind(this), 20);\n    }\n  },\n\n  setAmplitude(value){\n    this.interpolation.amplitude = Math.max(Math.min(value, 1), 0);\n  },\n\n  setSpeed(value){\n    this.interpolation.speed = value;\n  },\n\n  start(){\n    this.tick = 0;\n    this.run = true;\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.wavesContainer.parentNode.classList.add('speaking');\n    this.canvas.classList.add('fadein');\n\n    this.startDrawCycle();\n  },\n\n  stop(){\n    this.tick = 0;\n    this.run = false;\n    this.wavesContainer.parentNode.classList.remove('speaking');\n    this.canvas.classList.remove('fadein')\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n});\n\nexport default $;\n",
    "export default global;\n"
  ]
}